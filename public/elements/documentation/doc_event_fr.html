<dom-module id="doc-event-fr">
  <template>
    <h2>Description</h2>
    <p>
      Les modules d'<b>ElaiJS</b> communique via des évènements. Afin de rendre le tout modulables, c'est le module <b>Binder</b> qui s'occupe de rajouter les fonctionnalités d'évènement  (e.g. bind et fire) à un object donné.
    
    <elaijsapi-h4>Rendre un object évènementiable</elaijsapi-h4>
    <dev-code>
      require(["elaiJS/binder"], function(binder) {
        var obj = {};
        
        // Cela ajoute les fonctions bind, bindOne, unbind, unbindAll et fire.
        binder.addFunctions(obj);
        
        // Utile dans certains rares cas:
        // Ajouter toutes les fonctions de binds à un object. Cela ajoute les fonctions de plus haut ainsi que tous les fonctions du scope Global (bindGlobal, bindOneGlobal, ...).
        binder.addAllFunctions(obj);
      });
    </dev-code>
    
    <elaijsapi-h4>Ecouter les évènements d'un object</elaijsapi-h4>
    <dev-code>
      require(["elaiJS/binder"], function(binder) {
        var obj = {};
        // On rend l'object evenementiable.
        binder.addFunctions(obj);
        
        // On bind l'évènement à une fonction.
        obj.bind("superEventCustom", function(event) {
          console.log("Je suis un super Event Custom %o", event);
        });
        
        // Et on lance l'évènement !
        obj.fire("superEventCustom");
        
        
        // On bind l'évènement à une fonction et on s'attend a des parametres.
        obj.bind("superEventCustomParams", function(event) {
          console.log(event.data.sun); // 42
        });
        
        // Et on lance l'évènement avec parametres !
        obj.fire("superEventCustomParams", {sun: 42});
        
        
        
        
        // On bind l'évènement à une fonction et on s'attend a des parametres.
        obj.bind("superEventCustomParams", function(event) {
          console.log(event.data.sun); // 42
        });
        
        // Et on lance l'évènement avec parametres !
        obj.fire("superEventCustomParams", {sun: 42});
      });
    </dev-code>
    
    <elaijsapi-h4>Les évènements globaux</elaijsapi-h4>
    <p>
      Il existe également un object <i>Global</i> qui permet d'écouter et de déclencher des évènements que tout le monde peut écouter.
    </p>
    <dev-code>
      require(["elaiJS/binder"], function(binder) {
        // On bind l'évènement à une fonction.
        binder.bindGlobal("globalEvent", function(event) {
          console.log("Je suis un global Event %o", event);
        });
        
        // Et on lance l'évènement Global !
        binder.fireGlobal("globalEvent");
      });
    </dev-code>
    
    <elaijsapi-seeapi></elaijsapi-seeapi>
  </template>
  
  <script>
    ElaiJSBehaviors.wait(function() {
    Polymer({
      is: 'doc-event-fr'
    });
    });
  </script>
</dom-module>